@model  ClassLibrary.ViewModels.ChangePwdVM

@{
    Layout = "~/Views/Shared/_LayoutPageNew.cshtml";

}
<link href="~/Scripts/themes/default/style.min.css" rel="stylesheet" />


<style>
    .modal-dialog {
        width: 50% !important;
    }

    .avatar-preview {
        width: 192px;
        height: 192px;
        position: relative;
        border: 6px solid #F8F8F8;
        box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
    }

    a {
        cursor: pointer;
    }
</style>

<div class="modal-header">
    <h4 class="modal-title"><b>Change Password</b></h4>
</div>

@using (Html.BeginForm("ChangePassword", "Administration", FormMethod.Post, new { @id = "myForm" }))
{
    <div class="modal-body">

        <div class="row">
            <div class="col-md-12">

                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
 
                <div class="form-group">

                        <label for="lblMsg" class="text-danger">@ViewBag.Msg</label>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>User Id</label>
                                    @Html.EditorFor(model => model.UserId, new { htmlAttributes = new { @class = "form-control", @placeholder = "User Id", @readonly = "true" } })
                                    @Html.ValidationMessageFor(model => model.UserId, "", new { @class = "text-danger" })

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Old Password</label>
                                    @Html.EditorFor(model => model.OldPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "Old Password" } })
                                    @Html.ValidationMessageFor(model => model.OldPassword, "", new { @class = "text-danger" })

                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>New Password</label>
                                    @Html.EditorFor(model => model.NewPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "New Password" } })
                                    @Html.ValidationMessageFor(model => model.NewPassword, "", new { @class = "text-danger" })

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Confirm Password</label>
                                    @Html.EditorFor(model => model.ConfirmPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "Confirm Password" } })
                                    @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "text-danger" })

                                </div>
                            </div>
                        </div>
                    </div>
 
            </div>

        </div>


        <div class="modal-footer">
            <button type="button" onclick="redirect()" class="btn btn-default " data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary float-right"><i class="fa fa-save"></i> Save</button>
        </div>

    </div>
}

<script>

    function redirect() {
         window.location.href = '@Url.Action("Dashboard", "Admin")'
    }

</script>
